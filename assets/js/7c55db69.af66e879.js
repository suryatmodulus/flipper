"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4509],{3905:(e,t,n)=>{n.r(t),n.d(t,{MDXContext:()=>p,MDXProvider:()=>d,mdx:()=>v,useMDXComponents:()=>c,withMDXComponents:()=>u});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),u=function(e){return function(t){var n=c(t.components);return r.createElement(e,a({},t,{components:n}))}},c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),d=i,f=u["".concat(o,".").concat(d)]||u[d]||m[d]||a;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function v(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},39960:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(80102),i=n(67294),a=n(73727),o=n(52263),l=n(13919),s=n(10412),p=(0,i.createContext)({collectLink:function(){}}),u=n(44996),c=n(18780),d=["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"];const m=function(e){var t,n,m=e.isNavLink,f=e.to,v=e.href,g=e.activeClassName,h=e.isActive,b=e["data-noBrokenLinkCheck"],y=e.autoAddBaseUrl,w=void 0===y||y,x=(0,r.Z)(e,d),N=(0,o.default)().siteConfig,O=N.trailingSlash,j=N.baseUrl,S=(0,u.useBaseUrlUtils)().withBaseUrl,k=(0,i.useContext)(p),C=f||v,P=(0,l.Z)(C),E=null==C?void 0:C.replace("pathname://",""),T=void 0!==E?(n=E,w&&function(e){return e.startsWith("/")}(n)?S(n):n):void 0;T&&P&&(T=(0,c.applyTrailingSlash)(T,{trailingSlash:O,baseUrl:j}));var M=(0,i.useRef)(!1),U=m?a.OL:a.rU,D=s.default.canUseIntersectionObserver,F=(0,i.useRef)();(0,i.useEffect)((function(){return!D&&P&&null!=T&&window.docusaurus.prefetch(T),function(){D&&F.current&&F.current.disconnect()}}),[F,T,D,P]);var W=null!==(t=null==T?void 0:T.startsWith("#"))&&void 0!==t&&t,_=!T||!P||W;return T&&P&&!W&&!b&&k.collectLink(T),_?i.createElement("a",Object.assign({href:T},C&&!P&&{target:"_blank",rel:"noopener noreferrer"},x)):i.createElement(U,Object.assign({},x,{onMouseEnter:function(){M.current||null==T||(window.docusaurus.preload(T),M.current=!0)},innerRef:function(e){var t,n;D&&e&&P&&(t=e,n=function(){null!=T&&window.docusaurus.prefetch(T)},F.current=new window.IntersectionObserver((function(e){e.forEach((function(e){t===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(F.current.unobserve(t),F.current.disconnect(),n())}))})),F.current.observe(t))},to:T||""},m&&{isActive:h,activeClassName:g}))}},13919:(e,t,n)=>{function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!r(e)}n.d(t,{b:()=>r,Z:()=>i})},44996:(e,t,n)=>{n.r(t),n.d(t,{useBaseUrlUtils:()=>a,default:()=>o});var r=n(52263),i=n(13919);function a(){var e=(0,r.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,a=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var a=void 0===r?{}:r,o=a.forcePrependBaseUrl,l=void 0!==o&&o,s=a.absolute,p=void 0!==s&&s;if(!n)return n;if(n.startsWith("#"))return n;if((0,i.b)(n))return n;if(l)return t+n;var u=n.startsWith(t)?n:t+n.replace(/^\//,"");return p?e+u:u}(a,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,a().withBaseUrl)(e,t)}},8802:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.trailingSlash,r=t.baseUrl;if(e.startsWith("#"))return e;if(void 0===n)return e;var i,a=e.split(/[#?]/)[0],o="/"===a||a===r?a:(i=a,n?function(e){return e.endsWith("/")?e:e+"/"}(i):function(e){return e.endsWith("/")?e.slice(0,-1):e}(i));return e.replace(a,o)}},18780:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.uniq=t.applyTrailingSlash=void 0;var i=n(8802);Object.defineProperty(t,"applyTrailingSlash",{enumerable:!0,get:function(){return r(i).default}});var a=n(29964);Object.defineProperty(t,"uniq",{enumerable:!0,get:function(){return r(a).default}})},29964:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.from(new Set(e))}},94420:(e,t,n)=>{n.r(t),n.d(t,{frontMatter:()=>p,contentTitle:()=>u,metadata:()=>c,toc:()=>d,default:()=>f});var r=n(83117),i=n(80102),a=(n(67294),n(3905)),o=n(44996),l=n(39960),s=["components"],p={id:"javascript",title:"Set up your JavaScript App",sidebar_label:"JavaScript (browser / Node.js)"},u=void 0,c={unversionedId:"getting-started/javascript",id:"getting-started/javascript",isDocsHomePage:!1,title:"Set up your JavaScript App",description:"To set up Flipper in your JavaScript app, you need to add the necessary dependencies, initialize the Flipper client and enable the plugins you want to use.",source:"@site/../docs/getting-started/javascript.mdx",sourceDirName:"getting-started",slug:"/getting-started/javascript",permalink:"/docs/getting-started/javascript",editUrl:"https://github.com/facebook/flipper/blob/main/website/../docs/getting-started/javascript.mdx",tags:[],version:"current",frontMatter:{id:"javascript",title:"Set up your JavaScript App",sidebar_label:"JavaScript (browser / Node.js)"},sidebar:"setup",previous:{title:"Manual iOS Setup",permalink:"/docs/getting-started/react-native-ios"},next:{title:"Introduction",permalink:"/docs/getting-started/troubleshooting/troubleshooting"}},d=[{value:"Dependencies",id:"dependencies",children:[],level:2},{value:"Application Setup",id:"application-setup",children:[],level:2},{value:"Enabling plugins",id:"enabling-plugins",children:[],level:2}],m={toc:d};function f(e){var t=e.components,n=(0,i.Z)(e,s);return(0,a.mdx)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("p",null,"To set up Flipper in your JavaScript app, you need to add the necessary dependencies, initialize the Flipper client and enable the plugins you want to use.\nCurrently, plugins are not available for JavaScript environments, but you can ",(0,a.mdx)(l.default,{to:(0,o.default)("/docs/extending/create-plugin"),mdxType:"Link"},"create your own"),"."),(0,a.mdx)("h2",{id:"dependencies"},"Dependencies"),(0,a.mdx)("p",null,"Flipper JavaScript SDK is distributed via NPM. To add it to your app, use either the following:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-sh"},"npm install js-flipper\n")),(0,a.mdx)("p",null,"or"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-sh"},"yarn add js-flipper\n")),(0,a.mdx)("h2",{id:"application-setup"},"Application Setup"),(0,a.mdx)("p",null,"Flipper SDK works in browser and Node.js environments:"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("strong",{parentName:"li"},"browsers")," - works out-of-the-box if your browser supports ",(0,a.mdx)("a",{parentName:"li",href:"https://developer.mozilla.org/en-US/docs/Web/API/WebSocket"},"WebSockets"),"."),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("strong",{parentName:"li"},"node.js")," - requires a compatible WebSocket implementation (such as ",(0,a.mdx)("a",{parentName:"li",href:"https://github.com/websockets/ws"},"ws"),").")),(0,a.mdx)("div",{className:"admonition admonition-caution alert alert--warning"},(0,a.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,a.mdx)("h5",{parentName:"div"},(0,a.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,a.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,a.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,a.mdx)("div",{parentName:"div",className:"admonition-content"},(0,a.mdx)("p",{parentName:"div"},"You MUST NOT start Flipper client in production. In browser environments, you should think about not including it in the final production build at all."))),(0,a.mdx)("p",null,"To setup Flipper in your browser, use the following:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-ts"},"import flipperClient from 'js-flipper';\n\n// Start the client and pass your app name\nflipperClient.start('My cool browser app');\n")),(0,a.mdx)("p",null,"Following is how you can do it in your Node.js app:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-ts"},"import flipperClient from 'js-flipper';\n// Say, you decided to go with 'ws' as your WebSocket implementation\n// https://github.com/websockets/ws\nimport WebSocket from 'ws';\n\n// Start the client and pass your app name\n// You might ask yourself why there is the second argument `{ origin: 'localhost:' }`\n// Flipper Desktop verifies the `Origin` header for every WS connection. You need to set it to one of the whitelisted values (see `VALID_WEB_SOCKET_REQUEST_ORIGIN_PREFIXES`).\nflipperClient.start('My cool nodejs app', { websocketFactory: url => new WebSocket(url, {origin: 'localhost:'}) });\n")),(0,a.mdx)("p",null,(0,a.mdx)("inlineCode",{parentName:"p"},"flipperClient")," accepts an options object as a second parameter to its ",(0,a.mdx)("inlineCode",{parentName:"p"},"start")," method.  The following code shows what you can pass to it:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-ts"},"interface FlipperClientOptions {\n    // Make the client connect to a different URL\n    urlBase?: string;\n    // Override WebSocket implementation (Node.js folks, it is for you!)\n    websocketFactory?: (url: string) => FlipperWebSocket;\n    // Override how errors are handled (it is simple `console.error` by default)\n    onError?: (e: unknown) => void;\n    // Timeout after which client tries to reconnect to Flipper\n    reconnectTimeout?: number;\n}\n")),(0,a.mdx)("h2",{id:"enabling-plugins"},"Enabling plugins"),(0,a.mdx)("p",null,"Flipper is just a communication channel between the desktop app and your application; its true power comes from its plugins."),(0,a.mdx)("p",null,"All plugins must be added to the client. Client communicates the list of available plugins to the desktop upon connection."),(0,a.mdx)("p",null,"You can add a plugin by calling the following:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-ts"},"flipperClient.addPlugin(/* your plugin */)\n")),(0,a.mdx)("p",null,"Refer to the documentation on ",(0,a.mdx)(l.default,{to:(0,o.default)("/docs/extending/create-plugin"),mdxType:"Link"},"creating plugins")," to write your own!"))}f.isMDXComponent=!0}}]);