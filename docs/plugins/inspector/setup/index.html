<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Flipper RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Flipper Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Flipper" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="https://fbflipper.com/js/code-blocks-buttons.js"></script>
<script src="https://fbflipper.com/js/google-analytics.js"></script><title data-react-helmet="true"></title><meta data-react-helmet="true" name="robots" content="noindex"><link rel="stylesheet" href="/assets/css/styles.5a89eae6.css">
<link rel="preload" href="/assets/js/runtime~main.32138094.js" as="script">
<link rel="preload" href="/assets/js/main.68cd5160.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div><div id="__docusaurus">
<div class="main-wrapper mdx-wrapper mdx-page embedded"><main><p>To use the <a href="/docs/features/plugins/inspector/">Layout Inspector plugin</a>, you need to add the plugin to your Flipper client instance.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="android">Android<a aria-hidden="true" class="hash-link" href="#android" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="standard-android-view-only">Standard Android view only<a aria-hidden="true" class="hash-link" href="#standard-android-view-only" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.facebook.flipper.plugins.inspector.DescriptorMapping;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.facebook.flipper.plugins.inspector.InspectorFlipperPlugin;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final DescriptorMapping descriptorMapping = DescriptorMapping.withDefaults();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">client.addPlugin(new InspectorFlipperPlugin(mApplicationContext, descriptorMapping));</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="with-litho-support">With Litho Support<a aria-hidden="true" class="hash-link" href="#with-litho-support" title="Direct link to heading">​</a></h3><p>Litho support is provided via an optional plugin.</p><p>You also need to compile in the <code>litho-annotations</code> package, as Flipper reflects on them at runtime. So ensure to not just include them as <code>compileOnly</code> in your gradle configuration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  debugImplementation &#x27;com.facebook.flipper:flipper-litho-plugin:0.147.0&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  debugImplementation &#x27;com.facebook.litho:litho-annotations:0.19.0&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  // ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you want to enable Litho support in the layout inspector, you need to augment the descriptor with Litho-specific settings and add some addition dependencies.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.facebook.litho.config.ComponentsConfiguration;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.facebook.flipper.plugins.inspector.DescriptorMapping;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.facebook.flipper.plugins.inspector.InspectorFlipperPlugin;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import com.facebook.flipper.plugins.litho.LithoFlipperDescriptors;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Instead of hard-coding this setting, it&#x27;s a good practice to tie</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// this to a BuildConfig flag, that you only enable for debug builds</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// of your application.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">ComponentsConfiguration.isDebugModeEnabled = true;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">final DescriptorMapping descriptorMapping = DescriptorMapping.withDefaults();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// This adds Litho capabilities to the layout inspector.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">LithoFlipperDescriptors.add(descriptorMapping);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">client.addPlugin(new InspectorFlipperPlugin(mApplicationContext, descriptorMapping));</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="blocking-fullscreen-views-android-only">Blocking fullscreen views (Android only)<a aria-hidden="true" class="hash-link" href="#blocking-fullscreen-views-android-only" title="Direct link to heading">​</a></h3><p>There is an issue that if you have a view that occupies a big part of the screen but draws nothing, and its Z-position is higher than your main content, then selecting view/component through the Layout Inspector doesn&#x27;t function as you intended. This is because it always hits that transparent view, therefore, you need to manually navigate to the view you need: this is time-consuming and should not be necessary.</p><p>Add the following tag to your view to skip it from Flipper&#x27;s view picker. The view is still shown in the layout hierarchy but is selected while using the view picker:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">view.setTag(R.id.flipper_skip_view_traversal, true);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="blocking-empty-view-groups-android-only">Blocking empty view groups (Android only)<a aria-hidden="true" class="hash-link" href="#blocking-empty-view-groups-android-only" title="Direct link to heading">​</a></h3><p>If you have a ViewGroup that only occasionally has visible children, you may find it helpful to block its traversal when it&#x27;s empty or has no visible children. For example, you might have a FragmentContainerView that currently has no visible fragment.</p><p>Add the following tag to your view group to skip it from Flipper&#x27;s view picker only when it has zero children, or none of its children are currently visible. The views will still be shown in the layout hierarchy, but they will not be selected while using the view picker.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">viewGroup.setTag(R.id.flipper_skip_empty_view_group_traversal, true);</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="ios">iOS<a aria-hidden="true" class="hash-link" href="#ios" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="standard-uiview-only">Standard UIView Only<a aria-hidden="true" class="hash-link" href="#standard-uiview-only" title="Direct link to heading">​</a></h3><p>To debug layout using Flipper, add the following pod:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pod &#x27;FlipperKit/FlipperKitLayoutPlugin&#x27;, &#x27;~&gt;&#x27; + flipperkit_version</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Once you have added the pod, initialise the plugin and add it to the <code>FlipperClient</code> as follows.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">iOS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Swift</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly objc"><pre tabindex="0" class="prism-code language-objc codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">import</span><span class="token macro property"> </span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token macro property expression">FlipperKitLayoutPlugin</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">/</span><span class="token macro property expression">FlipperKitLayoutPlugin</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token macro property expression">h</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SKDescriptorMapper </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">mapper </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SKDescriptorMapper alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithDefaults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">client addPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">FlipperKitLayoutPlugin alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithRootNode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">application withDescriptorMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">mapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import FlipperKit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let layoutDescriptorMapper = SKDescriptorMapper(defaults: ())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">client?.add(FlipperKitLayoutPlugin(rootNode: application, with: layoutDescriptorMapper!))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="with-componentkit-support">With ComponentKit Support<a aria-hidden="true" class="hash-link" href="#with-componentkit-support" title="Direct link to heading">​</a></h3><p>If you want to enable <a href="https://github.com/facebook/componentkit" target="_blank" rel="noopener noreferrer">ComponentKit support</a> in the Layout Inspector, you need to add <code>FlipperKit/FlipperKitLayoutComponentKitSupport</code> to your Podfile:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ruby"><pre tabindex="0" class="prism-code language-ruby codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pod &#x27;FlipperKit/FlipperKitLayoutComponentKitSupport&#x27;, &#x27;~&gt;&#x27; + flipperkit_version</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Once you have added the pod you will then need to augment the descriptor with Componentkit-specific settings as shown below.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">iOS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Swift</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly objc"><pre tabindex="0" class="prism-code language-objc codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">import</span><span class="token macro property"> </span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token macro property expression">FlipperKitLayoutPlugin</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">/</span><span class="token macro property expression">FlipperKitLayoutPlugin</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token macro property expression">h</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">import</span><span class="token macro property"> </span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token macro property expression">FlipperKitLayoutComponentKitSupport</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">/</span><span class="token macro property expression">FlipperKitLayoutComponentKitSupport</span><span class="token macro property expression punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token macro property expression">h</span><span class="token macro property expression operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">SKDescriptorMapper </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">layoutDescriptorMapper </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">SKDescriptorMapper alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithDefaults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">FlipperKitLayoutComponentKitSupport setUpWithDescriptorMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> layoutDescriptorMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">client addPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">FlipperKitLayoutPlugin alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithRootNode</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> application</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                           withDescriptorMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> layoutDescriptorMapper</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly swift"><pre tabindex="0" class="prism-code language-swift codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import FlipperKit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let layoutDescriptorMapper = SKDescriptorMapper(defaults: ())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">FlipperKitLayoutComponentKitSupport.setUpWith(layoutDescriptorMapper)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">client?.add(FlipperKitLayoutPlugin(rootNode: application, with: layoutDescriptorMapper!))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div></main></div></div>
<script src="/assets/js/runtime~main.32138094.js"></script>
<script src="/assets/js/main.68cd5160.js"></script>
</body>
</html>